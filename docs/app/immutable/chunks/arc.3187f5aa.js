import{c as z}from"./constant.f354b64a.js";import{w as tn}from"./path.bbeba479.js";const an=Math.abs,c=Math.atan2,G=Math.cos,on=Math.max,en=Math.min,w=Math.sin,K=Math.sqrt,y=1e-12,L=Math.PI,Y=L/2,cn=2*L;function ln(a){return a>1?0:a<-1?L:Math.acos(a)}function sn(a){return a>=1?Y:a<=-1?-Y:Math.asin(a)}function fn(a){return a.innerRadius}function yn(a){return a.outerRadius}function gn(a){return a.startAngle}function hn(a){return a.endAngle}function mn(a){return a&&a.padAngle}function pn(a,x,D,q,v,A,B,r){var E=D-a,s=q-x,n=B-v,h=r-A,u=h*E-n*s;if(!(u*u<y))return u=(n*(x-A)-h*(a-v))/u,[a+u*E,x+u*s]}function X(a,x,D,q,v,A,B){var r=a-D,E=x-q,s=(B?A:-A)/K(r*r+E*E),n=s*E,h=-s*r,u=a+n,t=x+h,l=D+n,f=q+h,C=(u+l)/2,o=(t+f)/2,m=l-u,g=f-t,R=m*m+g*g,M=v-A,T=u*f-l*t,O=(g<0?-1:1)*K(on(0,M*M*R-T*T)),S=(T*g-m*O)/R,j=(-T*m-g*O)/R,P=(T*g+m*O)/R,p=(-T*m+g*O)/R,d=S-C,e=j-o,i=P-C,F=p-o;return d*d+e*e>i*i+F*F&&(S=P,j=p),{cx:S,cy:j,x01:-n,y01:-h,x11:S*(v/M-1),y11:j*(v/M-1)}}function vn(){var a=fn,x=yn,D=z(0),q=null,v=gn,A=hn,B=mn,r=null,E=tn(s);function s(){var n,h,u=+a.apply(this,arguments),t=+x.apply(this,arguments),l=v.apply(this,arguments)-Y,f=A.apply(this,arguments)-Y,C=an(f-l),o=f>l;if(r||(r=n=E()),t<u&&(h=t,t=u,u=h),!(t>y))r.moveTo(0,0);else if(C>cn-y)r.moveTo(t*G(l),t*w(l)),r.arc(0,0,t,l,f,!o),u>y&&(r.moveTo(u*G(f),u*w(f)),r.arc(0,0,u,f,l,o));else{var m=l,g=f,R=l,M=f,T=C,O=C,S=B.apply(this,arguments)/2,j=S>y&&(q?+q.apply(this,arguments):K(u*u+t*t)),P=en(an(t-u)/2,+D.apply(this,arguments)),p=P,d=P,e,i;if(j>y){var F=sn(j/u*w(S)),N=sn(j/t*w(S));(T-=F*2)>y?(F*=o?1:-1,R+=F,M-=F):(T=0,R=M=(l+f)/2),(O-=N*2)>y?(N*=o?1:-1,m+=N,g-=N):(O=0,m=g=(l+f)/2)}var H=t*G(m),J=t*w(m),Q=u*G(M),U=u*w(M);if(P>y){var V=t*G(g),W=t*w(g),Z=u*G(R),$=u*w(R),I;if(C<L)if(I=pn(H,J,Z,$,V,W,Q,U)){var b=H-I[0],k=J-I[1],_=V-I[0],nn=W-I[1],rn=1/w(ln((b*_+k*nn)/(K(b*b+k*k)*K(_*_+nn*nn)))/2),un=K(I[0]*I[0]+I[1]*I[1]);p=en(P,(u-un)/(rn-1)),d=en(P,(t-un)/(rn+1))}else p=d=0}O>y?d>y?(e=X(Z,$,H,J,t,d,o),i=X(V,W,Q,U,t,d,o),r.moveTo(e.cx+e.x01,e.cy+e.y01),d<P?r.arc(e.cx,e.cy,d,c(e.y01,e.x01),c(i.y01,i.x01),!o):(r.arc(e.cx,e.cy,d,c(e.y01,e.x01),c(e.y11,e.x11),!o),r.arc(0,0,t,c(e.cy+e.y11,e.cx+e.x11),c(i.cy+i.y11,i.cx+i.x11),!o),r.arc(i.cx,i.cy,d,c(i.y11,i.x11),c(i.y01,i.x01),!o))):(r.moveTo(H,J),r.arc(0,0,t,m,g,!o)):r.moveTo(H,J),!(u>y)||!(T>y)?r.lineTo(Q,U):p>y?(e=X(Q,U,V,W,u,-p,o),i=X(H,J,Z,$,u,-p,o),r.lineTo(e.cx+e.x01,e.cy+e.y01),p<P?r.arc(e.cx,e.cy,p,c(e.y01,e.x01),c(i.y01,i.x01),!o):(r.arc(e.cx,e.cy,p,c(e.y01,e.x01),c(e.y11,e.x11),!o),r.arc(0,0,u,c(e.cy+e.y11,e.cx+e.x11),c(i.cy+i.y11,i.cx+i.x11),o),r.arc(i.cx,i.cy,p,c(i.y11,i.x11),c(i.y01,i.x01),!o))):r.arc(0,0,u,M,R,o)}if(r.closePath(),n)return r=null,n+""||null}return s.centroid=function(){var n=(+a.apply(this,arguments)+ +x.apply(this,arguments))/2,h=(+v.apply(this,arguments)+ +A.apply(this,arguments))/2-L/2;return[G(h)*n,w(h)*n]},s.innerRadius=function(n){return arguments.length?(a=typeof n=="function"?n:z(+n),s):a},s.outerRadius=function(n){return arguments.length?(x=typeof n=="function"?n:z(+n),s):x},s.cornerRadius=function(n){return arguments.length?(D=typeof n=="function"?n:z(+n),s):D},s.padRadius=function(n){return arguments.length?(q=n==null?null:typeof n=="function"?n:z(+n),s):q},s.startAngle=function(n){return arguments.length?(v=typeof n=="function"?n:z(+n),s):v},s.endAngle=function(n){return arguments.length?(A=typeof n=="function"?n:z(+n),s):A},s.padAngle=function(n){return arguments.length?(B=typeof n=="function"?n:z(+n),s):B},s.context=function(n){return arguments.length?(r=n??null,s):r},s}export{vn as a};
