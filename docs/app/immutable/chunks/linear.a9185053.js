import{c as R,b as y,e as M,f as N,g as j}from"./transform.f0a34255.js";import{t as S,a as D,b as F}from"./ticks.39a2651d.js";import{e as g,f as I,a as z,b as B}from"./defaultLocale.b5afb42d.js";function p(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function P(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function w(n){let t,e,r;n.length!==2?(t=p,e=(c,f)=>p(n(c),f),r=(c,f)=>n(c)-f):(t=n===p||n===P?n:V,e=n,r=n);function u(c,f,a=0,h=c.length){if(a<h){if(t(f,f)!==0)return h;do{const s=a+h>>>1;e(c[s],f)<0?a=s+1:h=s}while(a<h)}return a}function o(c,f,a=0,h=c.length){if(a<h){if(t(f,f)!==0)return h;do{const s=a+h>>>1;e(c[s],f)<=0?a=s+1:h=s}while(a<h)}return a}function i(c,f,a=0,h=c.length){const s=u(c,f,a,h-1);return s>a&&r(c[s-1],f)>-r(c[s],f)?s-1:s}return{left:u,center:i,right:o}}function V(){return 0}function $(n){return n===null?NaN:+n}function*fn(n,t){if(t===void 0)for(let e of n)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of n)(r=t(r,++e,n))!=null&&(r=+r)>=r&&(yield r)}}const x=w(p),O=x.right;w($).center;const T=O;function q(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,r=t.slice(),u;return function(o){for(u=0;u<e;++u)r[u]=n[u]*(1-o)+t[u]*o;return r}}function C(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function E(n,t){var e=t?t.length:0,r=n?Math.min(e,n.length):0,u=new Array(r),o=new Array(e),i;for(i=0;i<r;++i)u[i]=d(n[i],t[i]);for(;i<e;++i)o[i]=t[i];return function(c){for(i=0;i<r;++i)o[i]=u[i](c);return o}}function G(n,t){var e=new Date;return n=+n,t=+t,function(r){return e.setTime(n*(1-r)+t*r),e}}function H(n,t){var e={},r={},u;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(u in t)u in n?e[u]=d(n[u],t[u]):r[u]=t[u];return function(o){for(u in e)r[u]=e[u](o);return r}}function d(n,t){var e=typeof t,r;return t==null||e==="boolean"?R(t):(e==="number"?y:e==="string"?(r=M(t))?(t=r,N):j:t instanceof M?N:t instanceof Date?G:C(t)?q:Array.isArray(t)?E:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?H:y)(n,t)}function J(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function K(n){return Math.max(0,-g(Math.abs(n)))}function L(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(g(t)/3)))*3-g(Math.abs(n)))}function Q(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,g(t)-g(n))+1}function U(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function sn(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function W(n){return function(){return n}}function X(n){return+n}var k=[0,1];function m(n){return n}function v(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:W(isNaN(t)?NaN:.5)}function Y(n,t){var e;return n>t&&(e=n,n=t,t=e),function(r){return Math.max(n,Math.min(t,r))}}function Z(n,t,e){var r=n[0],u=n[1],o=t[0],i=t[1];return u<r?(r=v(u,r),o=e(i,o)):(r=v(r,u),o=e(o,i)),function(c){return o(r(c))}}function _(n,t,e){var r=Math.min(n.length,t.length)-1,u=new Array(r),o=new Array(r),i=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++i<r;)u[i]=v(n[i],n[i+1]),o[i]=e(t[i],t[i+1]);return function(c){var f=T(n,c,1,r)-1;return o[f](u[f](c))}}function b(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function nn(){var n=k,t=k,e=d,r,u,o,i=m,c,f,a;function h(){var l=Math.min(n.length,t.length);return i!==m&&(i=Y(n[0],n[l-1])),c=l>2?_:Z,f=a=null,s}function s(l){return l==null||isNaN(l=+l)?o:(f||(f=c(n.map(r),t,e)))(r(i(l)))}return s.invert=function(l){return i(u((a||(a=c(t,n.map(r),y)))(l)))},s.domain=function(l){return arguments.length?(n=Array.from(l,X),h()):n.slice()},s.range=function(l){return arguments.length?(t=Array.from(l),h()):t.slice()},s.rangeRound=function(l){return t=Array.from(l),e=J,h()},s.clamp=function(l){return arguments.length?(i=l?!0:m,h()):i!==m},s.interpolate=function(l){return arguments.length?(e=l,h()):e},s.unknown=function(l){return arguments.length?(o=l,s):o},function(l,A){return r=l,u=A,h()}}function tn(){return nn()(m,m)}function rn(n,t,e,r){var u=S(n,t,e),o;switch(r=I(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(o=L(u,i))&&(r.precision=o),z(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Q(u,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=K(u))&&(r.precision=o-(r.type==="%")*2);break}}return B(r)}function en(n){var t=n.domain;return n.ticks=function(e){var r=t();return D(r[0],r[r.length-1],e??10)},n.tickFormat=function(e,r){var u=t();return rn(u[0],u[u.length-1],e??10,r)},n.nice=function(e){e==null&&(e=10);var r=t(),u=0,o=r.length-1,i=r[u],c=r[o],f,a,h=10;for(c<i&&(a=i,i=c,c=a,a=u,u=o,o=a);h-- >0;){if(a=F(i,c,e),a===f)return r[u]=i,r[o]=c,t(r);if(a>0)i=Math.floor(i/a)*a,c=Math.ceil(c/a)*a;else if(a<0)i=Math.ceil(i*a)/a,c=Math.floor(c*a)/a;else break;f=a}return n},n}function un(){var n=tn();return n.copy=function(){return b(n,un())},U.apply(n,arguments),en(n)}export{sn as a,d as b,J as c,p as d,un as e,U as f,m as i,en as l,fn as n};
