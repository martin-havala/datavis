import{S as r0,i as o0,s as s0,a as y,k as s,q as x,J as d0,K as c0,h as r,c as L,l as d,m as c,r as F,L as m0,n as E,M as u0,b as a0,G as t,H as X,o as p0,w as g0}from"../chunks/index.4a2bdffb.js";import{s as f0}from"../chunks/transform.d5a6f791.js";import{v as v0}from"../chunks/viridis.ba9a4a08.js";function _0(v,p){let a,i;if(p===void 0)for(const h of v)h!=null&&(a===void 0?h>=h&&(a=i=h):(a>h&&(a=h),i<h&&(i=h)));else{let h=-1;for(let o of v)(o=p(o,++h,v))!=null&&(a===void 0?o>=o&&(a=i=o):(a>o&&(a=o),i<o&&(i=o)))}return[a,i]}const w0=[{time:16591392e5,height:.82,direction:167,phase:null},{time:16592256e5,height:.56,direction:170,phase:null},{time:1659312e6,height:.7,direction:185,phase:null},{time:16593984e5,height:.5,direction:189,phase:null},{time:16594848e5,height:.5,direction:180,phase:null},{time:16595712e5,height:.5,direction:106,phase:null},{time:16596576e5,height:.6,direction:79,phase:"First Quarter"},{time:1659744e6,height:.42,direction:95,phase:null},{time:16598304e5,height:.46,direction:118,phase:null},{time:16599168e5,height:.98,direction:186,phase:null},{time:16600032e5,height:1.2,direction:197,phase:null},{time:16600896e5,height:1.14,direction:183,phase:null},{time:1660176e6,height:1.12,direction:178,phase:null},{time:16602624e5,height:1.3,direction:187,phase:"Full Moon"},{time:16603488e5,height:1.9,direction:186,phase:null},{time:16604352e5,height:.92,direction:195,phase:null},{time:16605216e5,height:.84,direction:196,phase:null},{time:1660608e6,height:1.28,direction:206,phase:null},{time:16606944e5,height:.52,direction:183,phase:null},{time:16607808e5,height:1,direction:195,phase:null},{time:16608672e5,height:.58,direction:176,phase:"Last Quarter"},{time:16609536e5,height:.42,direction:149,phase:null},{time:166104e7,height:.44,direction:132,phase:null},{time:16611264e5,height:.46,direction:100,phase:null},{time:16612128e5,height:.7,direction:150,phase:null},{time:16612992e5,height:.72,direction:106,phase:null},{time:16613856e5,height:.68,direction:113,phase:null},{time:1661472e6,height:.48,direction:136,phase:null},{time:16615584e5,height:.76,direction:164,phase:"New Moon"},{time:16616448e5,height:.66,direction:90,phase:null},{time:16617312e5,height:.64,direction:83,phase:null},{time:16618176e5,height:.58,direction:117,phase:null},{time:1661904e6,height:.92,direction:167,phase:null},{time:16619904e5,height:1.04,direction:171,phase:null},{time:16620768e5,height:.54,direction:120,phase:null},{time:16621632e5,height:.48,direction:134,phase:"First Quarter"},{time:16622496e5,height:.7,direction:190,phase:null},{time:1662336e6,height:.68,direction:202,phase:null},{time:16624224e5,height:.88,direction:181,phase:null},{time:16625088e5,height:.58,direction:146,phase:null},{time:16625952e5,height:.68,direction:67,phase:null},{time:16626816e5,height:.46,direction:87,phase:null},{time:1662768e6,height:.74,direction:64,phase:"Full Moon"},{time:16628544e5,height:.76,direction:58,phase:null},{time:16629408e5,height:.62,direction:72,phase:null},{time:16630272e5,height:.46,direction:95,phase:null},{time:16631136e5,height:.82,direction:86,phase:null},{time:16632e8,height:.52,direction:99,phase:null},{time:16632864e5,height:.76,direction:124,phase:null},{time:16633728e5,height:1.02,direction:155,phase:"Last Quarter"},{time:16634592e5,height:1.34,direction:173,phase:null},{time:16635456e5,height:1.86,direction:187,phase:null},{time:1663632e6,height:1.84,direction:163,phase:null},{time:16637184e5,height:.7,direction:73,phase:null},{time:16638048e5,height:.74,direction:59,phase:null},{time:16638912e5,height:.94,direction:122,phase:null},{time:16639776e5,height:.94,direction:145,phase:null},{time:1664064e6,height:.74,direction:80,phase:"New Moon"},{time:16641504e5,height:.42,direction:94,phase:null},{time:16642368e5,height:.76,direction:102,phase:null},{time:16643232e5,height:.82,direction:120,phase:null},{time:16644096e5,height:.56,direction:116,phase:null},{time:1664496e6,height:.62,direction:88,phase:null},{time:16645824e5,height:.66,direction:101,phase:null},{time:16646688e5,height:.82,direction:92,phase:null},{time:16647552e5,height:.46,direction:88,phase:"First Quarter"},{time:16648416e5,height:1.14,direction:183,phase:null},{time:1664928e6,height:.84,direction:79,phase:null},{time:16650144e5,height:.8,direction:49,phase:null},{time:16651008e5,height:.94,direction:29,phase:null},{time:16651872e5,height:.58,direction:76,phase:null},{time:16652736e5,height:.7,direction:59,phase:"Full Moon"},{time:166536e7,height:1.2,direction:163,phase:null},{time:16654464e5,height:1,direction:149,phase:null},{time:16655328e5,height:.68,direction:68,phase:null},{time:16656192e5,height:.9,direction:50,phase:null},{time:16657056e5,height:.82,direction:75,phase:null},{time:1665792e6,height:.72,direction:94,phase:null},{time:16658784e5,height:.52,direction:99,phase:null},{time:16659648e5,height:.5,direction:124,phase:"Last Quarter"},{time:16660512e5,height:.74,direction:66,phase:null},{time:16661376e5,height:.54,direction:69,phase:null},{time:1666224e6,height:.4,direction:95,phase:null},{time:16663104e5,height:.7,direction:160,phase:null},{time:16663968e5,height:.46,direction:184,phase:null},{time:16664832e5,height:.68,direction:147,phase:null},{time:16665696e5,height:.82,direction:43,phase:null},{time:1666656e6,height:1.08,direction:33,phase:"New Moon"},{time:16667424e5,height:1.2,direction:58,phase:null},{time:16668288e5,height:.54,direction:70,phase:null},{time:16669152e5,height:.44,direction:68,phase:null},{time:16670016e5,height:.5,direction:71,phase:null},{time:1667088e6,height:.46,direction:108,phase:null},{time:16671744e5,height:.52,direction:90,phase:null},{time:16672608e5,height:.56,direction:78,phase:"First Quarter"},{time:16673472e5,height:.58,direction:88,phase:null},{time:16674336e5,height:.8,direction:144,phase:null},{time:166752e7,height:.76,direction:96,phase:null},{time:16676064e5,height:.54,direction:83,phase:null},{time:16676928e5,height:.52,direction:85,phase:null},{time:16677792e5,height:.58,direction:94,phase:null},{time:16678656e5,height:.56,direction:97,phase:"Full Moon"},{time:1667952e6,height:.4,direction:88,phase:null},{time:16680384e5,height:.46,direction:135,phase:null},{time:16681248e5,height:.42,direction:82,phase:null},{time:16682112e5,height:.44,direction:96,phase:null},{time:16682976e5,height:.94,direction:172,phase:null},{time:1668384e6,height:.86,direction:93,phase:null},{time:16684704e5,height:.56,direction:83,phase:null},{time:16685568e5,height:.48,direction:88,phase:"Last Quarter"},{time:16686432e5,height:.46,direction:79,phase:null},{time:16687296e5,height:.42,direction:89,phase:null},{time:1668816e6,height:.5,direction:85,phase:null},{time:16689024e5,height:.86,direction:69,phase:null},{time:16689888e5,height:1.2,direction:117,phase:null},{time:16690752e5,height:.94,direction:108,phase:null},{time:16691616e5,height:1.22,direction:89,phase:"New Moon"},{time:1669248e6,height:1,direction:98,phase:null},{time:16693344e5,height:.7,direction:82,phase:null},{time:16694208e5,height:.68,direction:126,phase:null},{time:16695072e5,height:.62,direction:92,phase:null},{time:16695936e5,height:.72,direction:118,phase:null},{time:166968e7,height:1.62,direction:175,phase:null},{time:16697664e5,height:1.14,direction:148,phase:"First Quarter"},{time:16698528e5,height:.68,direction:88,phase:null},{time:16699392e5,height:.52,direction:81,phase:null},{time:16700256e5,height:.48,direction:105,phase:null},{time:1670112e6,height:.48,direction:147,phase:null},{time:16701984e5,height:.8,direction:60,phase:null},{time:16702848e5,height:.78,direction:85,phase:null},{time:16703712e5,height:.62,direction:124,phase:null},{time:16704576e5,height:.38,direction:135,phase:"Full Moon"},{time:1670544e6,height:.44,direction:100,phase:null},{time:16706304e5,height:.4,direction:102,phase:null},{time:16707168e5,height:.76,direction:78,phase:null},{time:16708032e5,height:.62,direction:76,phase:null},{time:16708896e5,height:1.1,direction:139,phase:null},{time:1670976e6,height:1.1,direction:223,phase:null},{time:16710624e5,height:.38,direction:203,phase:null},{time:16711488e5,height:.44,direction:167,phase:"Last Quarter"},{time:16712352e5,height:.62,direction:124,phase:null},{time:16713216e5,height:.82,direction:215,phase:null},{time:1671408e6,height:.48,direction:220,phase:null},{time:16714944e5,height:.3,direction:186,phase:null},{time:16715808e5,height:.44,direction:140,phase:null},{time:16716672e5,height:1.3,direction:160,phase:null},{time:16717536e5,height:1.42,direction:226,phase:"New Moon"},{time:167184e7,height:.9,direction:228,phase:null},{time:16719264e5,height:.4,direction:82,phase:null},{time:16720128e5,height:.42,direction:81,phase:null},{time:16720992e5,height:.34,direction:52,phase:null},{time:16721856e5,height:.56,direction:109,phase:null},{time:1672272e6,height:.5,direction:149,phase:null},{time:16723584e5,height:.34,direction:91,phase:"First Quarter"},{time:16724448e5,height:.2,direction:100,phase:null},{time:16725312e5,height:.34,direction:182,phase:null},{time:16726176e5,height:.3,direction:273,phase:null},{time:1672704e6,height:.2,direction:191,phase:null},{time:16727904e5,height:.32,direction:256,phase:null},{time:16728768e5,height:.36,direction:302,phase:null},{time:16729632e5,height:.18,direction:153,phase:"Full Moon"},{time:16730496e5,height:.32,direction:101,phase:null},{time:1673136e6,height:.32,direction:119,phase:null},{time:16732224e5,height:.72,direction:166,phase:null},{time:16733088e5,height:.78,direction:282,phase:null},{time:16733952e5,height:.18,direction:87,phase:null},{time:16734816e5,height:.3,direction:144,phase:null},{time:1673568e6,height:.98,direction:149,phase:null},{time:16736544e5,height:.88,direction:199,phase:null},{time:16737408e5,height:.62,direction:145,phase:"Last Quarter"},{time:16738272e5,height:.64,direction:71,phase:null},{time:16739136e5,height:.38,direction:78,phase:null},{time:1674e9,height:.58,direction:94,phase:null},{time:16740864e5,height:.5,direction:77,phase:null},{time:16741728e5,height:.72,direction:188,phase:null},{time:16742592e5,height:.58,direction:117,phase:"New Moon"},{time:16743456e5,height:.36,direction:73,phase:null},{time:1674432e6,height:.42,direction:78,phase:null},{time:16745184e5,height:1.38,direction:222,phase:null},{time:16746048e5,height:.66,direction:266,phase:null},{time:16746912e5,height:.44,direction:215,phase:null},{time:16747776e5,height:.64,direction:236,phase:null},{time:1674864e6,height:.64,direction:234,phase:"First Quarter"},{time:16749504e5,height:.32,direction:194,phase:null},{time:16750368e5,height:.7,direction:272,phase:null},{time:16751232e5,height:.48,direction:119,phase:null},{time:16752096e5,height:1.04,direction:198,phase:null},{time:1675296e6,height:.62,direction:199,phase:null},{time:16753824e5,height:.4,direction:91,phase:null},{time:16754688e5,height:.52,direction:114,phase:null},{time:16755552e5,height:.4,direction:98,phase:"Full Moon"},{time:16756416e5,height:.36,direction:108,phase:null},{time:1675728e6,height:.36,direction:78,phase:null},{time:16758144e5,height:.88,direction:61,phase:null},{time:16759008e5,height:.88,direction:34,phase:null},{time:16759872e5,height:1.44,direction:110,phase:null},{time:16760736e5,height:1.22,direction:144,phase:null},{time:167616e7,height:.64,direction:132,phase:null},{time:16762464e5,height:.88,direction:118,phase:"Last Quarter"},{time:16763328e5,height:.84,direction:53,phase:null},{time:16764192e5,height:.64,direction:36,phase:null},{time:16765056e5,height:.46,direction:75,phase:null},{time:1676592e6,height:.48,direction:78,phase:null},{time:16766784e5,height:1,direction:138,phase:null},{time:16767648e5,height:1.68,direction:208,phase:null},{time:16768512e5,height:.82,direction:156,phase:"New Moon"},{time:16769376e5,height:.78,direction:182,phase:null},{time:1677024e6,height:.34,direction:84,phase:null},{time:16771104e5,height:.48,direction:162,phase:null},{time:16771968e5,height:.58,direction:118,phase:null},{time:16772832e5,height:.68,direction:68,phase:null},{time:16773696e5,height:.6,direction:183,phase:null},{time:1677456e6,height:.42,direction:113,phase:"First Quarter"},{time:16775424e5,height:.86,direction:205,phase:null},{time:16776288e5,height:1.04,direction:206,phase:null},{time:16777152e5,height:1.08,direction:211,phase:null},{time:16778016e5,height:.4,direction:117,phase:null},{time:1677888e6,height:.46,direction:93,phase:null},{time:16779744e5,height:.7,direction:88,phase:null},{time:16780608e5,height:.74,direction:103,phase:null},{time:16781472e5,height:.52,direction:101,phase:"Full Moon"},{time:16782336e5,height:.5,direction:134,phase:null},{time:167832e7,height:.58,direction:165,phase:null},{time:16784064e5,height:.72,direction:180,phase:null},{time:16784928e5,height:.34,direction:105,phase:null},{time:16785792e5,height:.64,direction:116,phase:null},{time:16786656e5,height:.92,direction:147,phase:null},{time:1678752e6,height:.58,direction:70,phase:null},{time:16788384e5,height:.46,direction:88,phase:"Last Quarter"},{time:16789248e5,height:.48,direction:124,phase:null},{time:16790112e5,height:.66,direction:86,phase:null},{time:16790976e5,height:.86,direction:133,phase:null},{time:1679184e6,height:.68,direction:146,phase:null},{time:16792704e5,height:.48,direction:152,phase:null},{time:16793568e5,height:.52,direction:133,phase:"New Moon"},{time:16794432e5,height:.44,direction:125,phase:null},{time:16795296e5,height:1.14,direction:148,phase:null},{time:1679616e6,height:.9,direction:165,phase:null},{time:16797024e5,height:.68,direction:75,phase:null},{time:16797888e5,height:.8,direction:106,phase:null},{time:16798752e5,height:.74,direction:97,phase:null},{time:16799616e5,height:.62,direction:79,phase:null},{time:1680048e6,height:.62,direction:90,phase:"First Quarter"},{time:16801344e5,height:.46,direction:97,phase:null},{time:16802208e5,height:.5,direction:115,phase:null},{time:16803072e5,height:.52,direction:105,phase:null},{time:16803936e5,height:.7,direction:84,phase:null},{time:168048e7,height:.58,direction:73,phase:null},{time:16805664e5,height:.44,direction:76,phase:null},{time:16806528e5,height:.64,direction:143,phase:null},{time:16807392e5,height:.9,direction:194,phase:"Full Moon"},{time:16808256e5,height:1.44,direction:192,phase:null},{time:1680912e6,height:1.02,direction:192,phase:null},{time:16809984e5,height:.4,direction:148,phase:null},{time:16810848e5,height:.66,direction:187,phase:null},{time:16811712e5,height:.88,direction:202,phase:null},{time:16812576e5,height:1,direction:183,phase:null},{time:1681344e6,height:.5,direction:141,phase:"Last Quarter"},{time:16814304e5,height:.84,direction:165,phase:null},{time:16815168e5,height:.94,direction:149,phase:null},{time:16816032e5,height:.86,direction:185,phase:null},{time:16816896e5,height:.58,direction:172,phase:null},{time:1681776e6,height:.6,direction:158,phase:null},{time:16818624e5,height:.58,direction:196,phase:null},{time:16819488e5,height:.56,direction:188,phase:"New Moon"}],M0=""+new URL("../assets/legend.5be939c4.svg",import.meta.url).href;function x0(v){let p,a,i,h,o,_,Q,b,m,$,u,f,A,g,N,n,l,C,I,e,w,K,S,O,D,B,T,V,j,q,k,J;return{c(){p=y(),a=s("section"),i=s("div"),h=s("div"),o=s("h1"),_=x("Kanagawa sea"),Q=y(),b=s("div"),m=x("Maximum sea wave height & wind direction aligned to lunar calendar."),$=y(),u=s("div"),f=x("Under 2 metres? I see what you did there Mr. Hokusai."),A=y(),g=d0("svg"),N=y(),n=s("div"),l=s("img"),I=y(),e=s("div"),w=s("ul"),K=x(`Data sources:
                    `),S=s("li"),O=x("Sea data: "),D=s("a"),B=x("open-meteo.com"),T=y(),V=s("li"),j=x(`Moon phases:
                        `),q=s("a"),k=s("i"),J=x("U.S. Naval Observatory"),this.h()},l(M){c0("svelte-1a4b4er",document.head).forEach(r),p=L(M),a=d(M,"SECTION",{});var Y=c(a);i=d(Y,"DIV",{class:!0});var z=c(i);h=d(z,"DIV",{});var U=c(h);o=d(U,"H1",{});var Z=c(o);_=F(Z,"Kanagawa sea"),Z.forEach(r),Q=L(U),b=d(U,"DIV",{});var e0=c(b);m=F(e0,"Maximum sea wave height & wind direction aligned to lunar calendar."),e0.forEach(r),$=L(U),u=d(U,"DIV",{});var i0=c(u);f=F(i0,"Under 2 metres? I see what you did there Mr. Hokusai."),i0.forEach(r),U.forEach(r),A=L(z),g=m0(z,"svg",{class:!0}),c(g).forEach(r),N=L(z),n=d(z,"DIV",{class:!0});var H=c(n);l=d(H,"IMG",{src:!0,class:!0,alt:!0}),I=L(H),e=d(H,"DIV",{});var t0=c(e);w=d(t0,"UL",{});var G=c(w);K=F(G,`Data sources:
                    `),S=d(G,"LI",{});var R=c(S);O=F(R,"Sea data: "),D=d(R,"A",{href:!0});var h0=c(D);B=F(h0,"open-meteo.com"),h0.forEach(r),R.forEach(r),T=L(G),V=d(G,"LI",{});var W=c(V);j=F(W,`Moon phases:
                        `),q=d(W,"A",{href:!0});var n0=c(q);k=d(n0,"I",{});var l0=c(k);J=F(l0,"U.S. Naval Observatory"),l0.forEach(r),n0.forEach(r),W.forEach(r),G.forEach(r),t0.forEach(r),H.forEach(r),z.forEach(r),Y.forEach(r),this.h()},h(){document.title="Kanagawa sea",E(g,"class","svelte-gnb69w"),u0(l.src,C=M0)||E(l,"src",C),E(l,"class","legend svelte-gnb69w"),E(l,"alt","A legend describing chart values"),E(D,"href","https://open-meteo.com/en/docs/marine-weather-api#latitude=35.47&longitude=139.63&daily=wave_height_max,wave_direction_dominant&timezone=Europe%2FBerlin&start_date=2022-08-01&end_date=2023-04-19"),E(q,"href","https://aa.usno.navy.mil/calculated/moon/phases?date=2022-08-01&nump=50&format=t&submit=Get+Data"),E(n,"class","comments"),E(i,"class","page svelte-gnb69w")},m(M,P){a0(M,p,P),a0(M,a,P),t(a,i),t(i,h),t(h,o),t(o,_),t(h,Q),t(h,b),t(b,m),t(h,$),t(h,u),t(u,f),t(i,A),t(i,g),v[1](g),t(i,N),t(i,n),t(n,l),t(n,I),t(n,e),t(e,w),t(w,K),t(w,S),t(S,O),t(S,D),t(D,B),t(w,T),t(w,V),t(V,j),t(V,q),t(q,k),t(k,J)},p:X,i:X,o:X,d(M){M&&r(p),M&&r(a),v[1](null)}}}function F0(v,p,a){let i={top:20,right:0,bottom:20,left:0},h=1600-i.left-i.right,o=540-i.top-i.bottom,_,Q;p0(()=>{let m=0,$=29,u=[...w0],f=0;u.reverse().forEach(e=>{e.phase&&(m=0,f++,e.phase=="New Moon"&&($=0)),e.phaseCountdown=$,e.phaseCounter=f,e.quarterCountdown=m,$++,m++}),console.log(m,f),f++,u.reverse(),Q=f0(_).attr("viewBox",`0 0 ${h+i.left+i.right},${o+i.top+i.bottom}`).append("g").attr("transform","translate("+i.left+","+i.top+")");const A=Q.append("g").selectAll("moonCells").data(u),g=_0(u.map(e=>e.height??0)),N=e=>v0((e??0-g[0])/(g[1]-g[0])),n=h/(f+1),l=n/2+.5,C=A.join("g").attr("transform",e=>`translate(${h-n-n*(e.phaseCounter??0)}, ${n*8-n*(e.quarterCountdown??0)})`);C.append("circle").attr("cx",l).attr("cy",l).attr("r",l-1).attr("fill",e=>N(e.height)),C.append("path").attr("d",`M ${l},1 ${l+5},9 ${l-5},9 z`).attr("transform",e=>`rotate(${e.direction})`).attr("transform-origin",e=>`${l} ${l}`).attr("fill","rgba(0,0,0,.5)").append("title").text(e=>e.direction).attr("y",18),C.append("text").attr("class","tileText").text(e=>e.height).attr("text-anchor","middle").attr("font-size",10).attr("dominant-baseline","middle").attr("y",l).attr("fill",e=>N(e.height)).attr("x",l);const I=Q.append("g").selectAll("phaseCells").data(u.filter(e=>e.phase)).enter().append("g").attr("transform",e=>`translate(${h-n-n*(e.phaseCounter??0)}, ${n*8})`);I.append("text").attr("font-size",n*.8).attr("text-anchor","middle").attr("height",n).attr("y",n*2).attr("x",l).text(e=>{switch(e.phase){case"New Moon":return"🌑";case"First Quarter":return"🌓";case"Full Moon":return"🌕";case"Last Quarter":return"🌗"}return""}),I.append("text").text(e=>new Date(e.time).toLocaleDateString("en",{dateStyle:"short"})).attr("y",n*2.5).attr("x",n/2).attr("font-size",10).attr("transform","rotate(90)").attr("text-anchor","start").attr("dominant-baseline","middle").attr("transform-origin",e=>`${n/2} ${n*2.5}`)});function b(m){g0[m?"unshift":"push"](()=>{_=m,a(0,_)})}return[_,b]}class $0 extends r0{constructor(p){super(),o0(this,p,F0,x0,s0,{})}}export{$0 as default};
